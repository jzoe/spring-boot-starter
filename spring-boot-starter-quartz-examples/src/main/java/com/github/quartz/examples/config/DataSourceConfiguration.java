package com.github.quartz.examples.config;import com.alibaba.druid.pool.DruidDataSource;import org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.context.EnvironmentAware;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.support.PropertySourcesPlaceholderConfigurer;import org.springframework.core.env.Environment;import javax.sql.DataSource;/** * Created by chenmin on 17/11/19. */@Configurationpublic class DataSourceConfiguration implements EnvironmentAware {    private Environment environment;    @Bean    @ConfigurationProperties(prefix = "spring.datasource")    public DataSource dataSource() {        return DataSourceBuilder.create().type(DruidDataSource.class).build();    }    @Override    public void setEnvironment(Environment environment) {        this.environment = environment;    }    @Bean    public PropertySourcesPlaceholderConfigurer placeholderConfigurer() {        PropertySourcesPlaceholderConfigurer placeholderConfigurer = new PropertySourcesPlaceholderConfigurer();        placeholderConfigurer.setIgnoreUnresolvablePlaceholders(true);        placeholderConfigurer.setEnvironment(environment);        return placeholderConfigurer;    }}